<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="encrypt.css">
    <script src="jquery-3.6.1.min.js"></script>
    <script src="FunkyFuncs.js"></script>
</head>
<body>

    <div class="container">
        
        <h1>Hex <-> RGB</h1>
        <div class="searchContainer">
            <div class="searchWindow">
                <form id="subRGB">
                    <h3>V채rde:</h3>
                    <input type="text" placeholder="255,255,255" id="RGBIn">
                    <input type="button" value="Konvertera" class="subButton" id="subButton" onclick="RGBToHex(RGBIn)">
                </form>

                <form id="subHex">
                    <h3>V채rde:</h3>
                    <input type="text" placeholder="#FFFFFF" id="HexIn">
                    <input type="button" value="Konvertera" class="subButton" id="subButton" onclick="HexToRGB(HexIn)">
                </form>

                <br>
                <div class="typeSelector">
                    <input type="radio" name="type" onclick="changeType('RtoH')" id="Encrypt">
                    <label for="RtH">RGB -> Hex</label>
                    <input type="radio" name="type" onclick="changeType('HtoR')" id="Decrypt" checked>
                    <label for="HtR">Hex -> RGB</label>
                </div>
                
            </div>
            
        </div>
        
    </div>
    
    <script>
        
        changeType('HtoR');

        function changeType(type)
        {
            console.log(type);
            var RGBEl = document.getElementById("subRGB");
            var hexEl = document.getElementById("subHex");
            

            if(type === 'RtoH')
            {
                hexEl.style.display = "none";
                RGBEl.style.display = "block";
            }
            else
            {
                hexEl.style.display = "block";
                RGBEl.style.display = "none";
                
            }
            
        }

        function HexToRGB(value)
        {
            HexCode = value.value;
            console.log(HexCode);
            if(HexCode[0] != "#")
            {
                alert("Ogiltigt v채rde");
                console.log("poo");
                return;
            }
            RGBcode = [];
            let pushVal = 0;
            for(var i = 1; i < HexCode.length; i++)
            {
                console.log(HexCode[i]);
                let newVal = 0;
                let isValid = true;
                switch(HexCode[i])
                {
                    case "0":
                    case "1":
                    case "2":
                    case "3":
                    case "4":
                    case "5":
                    case "6":
                    case "7":
                    case "8":
                    case "9":
                        newVal = HexCode[i];
                        break;     
                    case "A":
                        newVal = 10;
                        break;
                    case "a":
                        newVal = 10;
                        break;
                    case "B":
                        newVal = 11;
                        break;
                    case "b":
                        newVal = 11;
                        break;
                    case "C":
                        newVal = 12;
                        break;
                    case "c":
                        newVal = 12;
                        break;
                    case "D":
                        newVal = 13;
                        break;
                    case "d":
                        newVal = 13;
                        break;
                    case "E":
                        newVal = 14;
                        break;
                    case "e":
                        newVal = 14;
                        break;
                    case "F":
                        newVal = 15;
                        break;
                    case "f":
                        newVal = 15;
                        break;
                    default:
                        isValid = false;
                        break;
                }
                if(isValid === false)
                {
                    alert("Ogiltigt v채rde");
                    break;
                    return;
                }
                
                switch(i)
                {
                    case 1:
                    case 3:
                    case 5:
                        pushVal = 0;
                        pushVal = parseInt(newVal) * 16;
                        break;
                    case 2:
                    case 4:
                    case 6:
                        pushVal += parseInt(newVal);
                        RGBcode.push(pushVal);
                        break;
                }

            }

            alert("(" + RGBcode + ")");
        }

        function RGBToHex(value)
        {
            RGBcode = value.value.split(",");
            
            alert("#" + valueToHex(parseInt(RGBcode[0])) + valueToHex(parseInt(RGBcode[1])) + valueToHex(parseInt(RGBcode[2])));
        }

        function valueToHex(c)
        {
            let hex = c.toString(16).toUpperCase();
            return hex;
        }

    </script>
</body>
</html>